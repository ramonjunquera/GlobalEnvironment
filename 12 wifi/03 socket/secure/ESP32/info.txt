Tema: Ejemplo de socket seguro para ESP32
Autor: Ramón Junquera
Fecha: 20190429

Desarrollaremos un ejemplo de conexión segura a un socket.
Necesitaremos la parte servidor y la parte cliente.
En ambos casos se ha utilizado el mismo modelo de ESP32: WeMos Lolin32.

Cliente
  No necesita las librerías customizadas de servidor seguro. Es suficiente con la librería
  estándar de WiFiClientSecure.h.
  Por su sencillez se ha desarrollado en entorno Arduino (.ino).
  El cliente intenta conectar con el servidor y abrir conexión.
  A partir de ese momento, envía al socket el texto que reciba por el puerto serie.
  Si en algún momento se corta la conexión, intentará recuprarla.

Servidor
  Es necesario tener los archivos de certificado y clave privada en SPIFFS, como cualquier otro
  servidor seguro.
  Acepta conexiones segura, pero no las trata como web, sino como socket.
  Toda la información recibida la enviará al puerto serie.
  Si en algún momento detecta el carácter 'x', entenderá que se quiere cortar la conexión.
  Los caracteres enviados tras la 'x' se perderán.
  Gracias al continuo intento del cliente de restablecer la conexión, se establece poco después.
  El servidor crear un prunto de acceso propio para no depender de otras redes.