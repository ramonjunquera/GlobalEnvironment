Autor: Ramón Junquera
Fecha: 20210504
Tema: ATtiny85. Configuración de entorno y upload
Descripción:
  La placa ATtiny85 tiene un sistema de transferencia/upload distinto al resto de placas.
  La transferencia se hace a través de un programador.

Instalación de drivers de DigiStump
  Windows
    Antes de configurar ningún entorno, es necesario instalar los drivers USB que permitirán
    reconocer el dispositivo.
    Los podemos localizar en: http://digistump.com/wiki/digispark/tutorials/connecting
    Concretamente desde el link: 
      https://github.com/digistump/DigistumpArduino/releases/download/1.6.7/Digistump.Drivers.zip
    Se incluye una copia de este archivo.
    Descomprimimos y ejecutamos el archivo Install Drivers.exe
    Ahora el dispositivo será reconocido y podremos enviar código desde el PC.
  Ubuntu
    No es necesario
  
Imcompatibilidades con Windows 10 (no solventado).
  En las últimas versiones de Windows 10 finaliza la instalación con un error en
  la instalación del controlador "Digistump LLC (usbser)".
  Esto es debido a que en Windows 10 se ha reescrito totalmente el driver Usbser.sys.
  Es necesaria la instalación de un driver compatible como LowCDC, descargable desde:
    https://github.com/protaskin/LowCDC-Win10x64
  Los comandos utilizados en el .bat pertenecen al kit de desarrollo de Windows 8.1.
  La versión de Windows 10 no los incluye por considerarlos obsoletos.
  Se puede descargar desde aquí:
    https://developer.microsoft.com/es-es/windows/downloads/sdk-archive
  Es posible que se necesite deshabilitar la comprobación de certificados firmados:
    https://www.howtogeek.com/167723/how-to-disable-driver-signature-verification-on-64-bit-windows-8.1-so-that-you-can-install-unsigned-drivers/

Configuración del IDE de Arduino:
  Seleccionamos Archivo\Preferencias\Gestor de URLs adicionales de tarjetas y escribimos:
    http://digistump.com/package_digistump_index.json
  Si ya teníamos algo escrito en este campo, tendremos que separar las distintas URLs con una coma
  o pulsar en el botón de la derecha, que desplegará una ventana en la que podremos escribir en
  distintas líneas todas las URLs que tengamos.
  Ahora vamos a Herramientas/Placa/Gestor de tarjetas...
  Esperamos a que se actualice y buscamos "Digistump AVR Boards by Digistump".
  Pulsamos el botón de instalar. Con esto descargamos los drivers para toda la familia de placas.
  Si nos fijamos, el último mensaje en el IDE es que no ha ejecutado un script no confiable
  Además indica el path. Por ejemplo:
    ATENCIÓN: contribución no segura, saltando la ejecución del script
    (C:\Users\cube\AppData\Local\Arduino15\packages\digistump\tools\micronucleus\2.0a4\post_install.bat)
  Podemos copiarlo y ejecutarlo a mano. Son los mismos drivers que hemos instalado antes.
  Seleccionamos el modelo de la placa desde Herramientas/Placa/Digispark (Default - 16.5mhz)
  Ya estaremos preparados para comenzar a desarrollar.

Comportamiento en Windows:
  Si conectamos el dispositivo a Windows, comprobaremos que está contínuamente conectando y
  desconectando.
  Esto es normal, porque esta placa no funciona como las que conocemos hasta ahora.
  En realidad esta placa debe estar desconectada mientras desarrollamos.

Transferencia (IDE de Arduino/Platformio):
  El dispositivo debe mantenerse desconectado.
  Cuando tenemos una compilación correcta y queremos transferir el programa, pulsamos el botón
  de transferencia en el IDE de Arduino y nos aparecerá un mensaje en el panel inferior que
  nos pedirá conectar la placa en menos de 60 segundos.
  La conectamos y al momento es detectada y comienza la transferencia.
  Finaliza con un mensaje de confirmación.
  Si el dispositivo está conectado cuando iniciamos la transferencia, dará un error.
