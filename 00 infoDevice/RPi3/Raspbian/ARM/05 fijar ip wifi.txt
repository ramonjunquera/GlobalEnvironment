Cómo fijar la dirección ip de Raspberry Pi para conexión wifi

Por defecto las conexión wifi vienen desactivadas.
Lo primero que hacemos es pulsar sobre el icono de conexiones y activar el interface wifi.
Una vez activo, nos mostrará todas los puntos de acceso wifi detectados.
Si nos conectásemos a uno, se tomaría la dirección ip proporcionada por el DHCP.

En este ejemplo añadiremos una nueva dirección ip fija a la conexión wifi.
Esta nueva dirección no sustituye a la proporcionada por el DHCP.
Wifi tendrá dos direcciones: la fija y la dinámica.

Gracias a esto, podremos utilizar la consola remota VNC más fácilmente porque siempre
sabremos en qué dirección se encuentra Raspberry

Si comprobamos la configuración de comunicaciones con el comando:
  ifconfig

Obtendremos algo como esto:
---start---
pi@raspberrypi:~ $ ifconfig
eth0      Link encap:Ethernet  HWaddr b8:27:eb:11:bb:44  
          inet6 addr: fe80::79ff:6f3b:300b:28b8/64 Scope:Link
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:229 errors:0 dropped:0 overruns:0 frame:0
          TX packets:229 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1 
          RX bytes:18376 (17.9 KiB)  TX bytes:18376 (17.9 KiB)

wlan0     Link encap:Ethernet  HWaddr b8:27:eb:44:ee:11  
          inet addr:192.168.1.195  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fe80::d1f3:ffba:a31b:8676/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1570 errors:0 dropped:181 overruns:0 frame:0
          TX packets:3969 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:121796 (118.9 KiB)  TX bytes:4944061 (4.7 MiB)
---end---

Vemos que está definidas las conexiones de ethernet (eth0), el loopback (lo)
y wifi (wlan0).

Editaremos el archivo de configuración de comunicaciones con
  sudo nano -w /etc/network/interfaces

La configuración por defecto es la siguiente

---start---
# interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d

auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan0
iface wlan0 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

allow-hotplug wlan1
iface wlan1 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
---end---

Tendremos que añadir al final del archivo las siguientes líneas:
---start---
auto wlan0
iface wlan0 inet static
address 192.168.1.195
netmast 255.255.255.0
gateway 192.168.1.1
---end---

Esto indica que:
- Podrá conectarse automáticamente
- Que le asignaremos una dirección estática
- Cuál es la dirección
- Cuál es la máscara de subred
- Cuál es la pasarela por defecto

Si además añadimos las siguientes líneas:
---start---
wpa-essid nombredepuntodeacceso
wpa-psk contraseñawifi
---end---
Estaremos fijan un punto de acceso al que conectarnos.
Si no lo hacemos, se conectará automáticamente al último punto de acceso
que se había conectado con éxito.

Una vez finalizada la edición, pulsamos CTRL+O para guardar.
Solicita el nombre del archivo en el que se guardará.
Por defecto es el mismo que hemos abierto. Es suficiente pulsar ENTER.
Pulsamos CTRL+X para salir del editor.

Necesitamos reiniciar el dispositivo con el siguiente comando:
sudo reboot

